/*
1、临界区作用：禁止系统调度，但不禁止中断
2、先建立业务逻辑流程图，再写代码
3、串口阻塞写：
	1、进临界区
	2、uart_write
	3、等待传输中断完成后，中断处理函数中释放互斥信号量
	4、退出临界区
4、转移表写fsm
5、继电器整定法：
	1、建立PI、PID控制器，使系统处于稳态，允许存在静差
	2、关闭控制器，使用开关信号直接激励执行机构，使系统震荡
	3、根据经验公式计算Kp、Ki、Kd
	4、将参数重新代入控制器，根据反馈曲线，微调参数
	5、使用死区方式隔离噪声对设定值影响，或使用低通滤波、算术平均滤波调整波形
6、香农采样定律：采样频率>=2*fmax（信号频率）
7、分层设计思想：上下分离、左右分离
8、分层设计原则：
	1、尽量少使用全局变量
	2、接口是上下层调用关系、尽量少跨层调用
	3、同层间模块避免互相调用，需要数据都是从高层接口获取
9、嵌入式软件架构
	应用层：调用不同的业务模块完成逻辑功能
	业务逻辑层：心跳业务、通信业务、报警处理业务等
	功能模块层：1、API：提供给上层调用
				2、各个模块库
	硬件驱动层：1、API：提供给上层调用
				2、各个外设驱动
10、提高ADC采样稳定性
	1、采样周期设置大一些
	2、上电后延迟一段时间再校准ADC
	3、合适的滤波算法
11、PID经验调参法
	1、使系统处于纯比例项控制，将设定值设置为系统最大值的60%~70%，将Kp从0逐渐增大，直至出现震荡（允许有静差），
		然后反过来，逐渐减小Kp，直至震荡消失（允许有静差）。此时，设定的Kp值为当前Kp值的60%~70%。
	2、系统加入积分项，将Ti从最大值逐渐减小，直至出现震荡，然后反过来，逐渐增大Ti，直至震荡消失。此时，设定的Ti值为
		当前Ti值的150%~180%。
	3、系统加入微分项，Td的调参方式与Kp、Ti一样，设定值为不震荡时，当前Td值的30%。
	4、最后，看需求微调。
	5、双环PID调参，先整定内环(先使外环关闭，整定好内环参数)，再整定外环。
12、PWM死区时间：PWM输出时，为了使H桥或半H桥电路的上下管不会因为MOS管开关速度问题发送上下管同时导通而设置的保护时间。
	死区时间内，PWM通道不会输出PWM有效极性，例如：带死区的互补PWM
13、驱动H桥式电路，需要使用互补PWM输出，即两路驱动电机需要使用CH1、CH1N、CH2、CH2N这4个IO。
14、频繁读写（不使用DMA）的操作，可以使用ccmram属性优化，如：
	变量：rt_uint8_t buff[1024] __attribute__((section("ccmram"))) = {0};
	函数：__attribute__((section("ccmram"))) void func(void)
15、万能指针转换公式：_P_CONVERT(_ADDR, _TYPE)				(*(TYPE *)(uint32_t)(_ADDR))	
16、volatile用法：
	1、在内存中进行地址映射的设备寄存器
	2、在中断处理函数中可能被修改的全局变量
	3、多线程应用中的全局变量
17、低功耗应用：
	1、进低功耗模式
	2、引脚配置成输出模式
	3、外设时钟关闭
18、人眼线性感光gama系数为1/2.2。则LED的gama校正系数为2.2。公式：POWER(X,2.2)*255(自己划分阶数，范围为0~1，step=1/阶数)
19、解耦方式
	1、分层设计
	2、善用指针、链表、回调、转移表、状态机
	3、抽象
20、一阶卡尔曼滤波
	1、Last_P：影响初次收敛速度，一般设定较小值
	2、Q：越小越信任模型预测值，但是太小容易产生发散
	3、R：越小越快收敛，主要影响收敛速度，但是太小容易产生发散
/*
